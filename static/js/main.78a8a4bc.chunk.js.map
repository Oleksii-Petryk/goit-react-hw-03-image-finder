{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","services/API.js","components/LogicApp/LogicApp.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchImage","handleSearchChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","styles","SearchForm","this","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","LoadBox","loader","color","height","width","ImageGallery","children","ImageGalleryItem","setSelectedImgs","tags","target","dataset","alt","largeImageURL","url","onClick","images","map","id","webformatURL","image","src","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClick","window","addEventListener","removeEventListener","createPortal","Overlay","API","currentValue","page","fetch","then","response","ok","json","Promise","reject","Error","LogicApp","status","showModal","largeImage","onLoadMore","requestedImages","hits","catch","onOpenModal","Alt","Url","onCloseModal","prevProps","prevValue","length","scrollTo","top","documentElement","scrollHeight","behavior","message","App","formSubmitHandler","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,MAAQ,kC,mBCAxFD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,6MCGrBC,E,4MACFC,MAAQ,CACJC,YAAa,I,EAGjBC,mBAAqB,SAAAC,GACjB,EAAKC,SAAS,CAAEH,YAAaE,EAAEE,cAAcC,MAAMC,iB,EAGvDC,aAAe,SAAAL,GAEX,GADAA,EAAEM,iBACoC,KAAlC,EAAKT,MAAMC,YAAYS,OACvB,OAAOC,IAAMC,MAAM,wCAGvB,IAAQX,EAAgB,EAAKD,MAArBC,YACR,EAAKY,MAAMC,SAASb,GACpB,EAAKG,SAAS,CAAEH,YAAa,M,4CAIjC,WAEI,OACI,wBAAQc,UAAWC,IAAOjB,UAA1B,SACI,uBAAMgB,UAAWC,IAAOC,WAAYH,SAAUI,KAAKV,aAAnD,UACI,wBAAQW,KAAK,SAASJ,UAAWC,IAAOI,OAAxC,SACI,sBAAML,UAAWC,IAAOK,MAAxB,sBAGJ,uBACIN,UAAWC,IAAOM,MAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZnB,MAAOY,KAAKlB,MAAMC,YAClByB,SAAUR,KAAKhB,8B,GArCfyB,aA6CT5B,I,0CCjCA6B,MAXf,WACI,OAAO,qBAAKb,UAAWC,IAAOa,OAAvB,SACH,cAAC,IAAD,CACIV,KAAK,OACLW,MAAM,UACNC,OAAQ,IACRC,MAAO,S,iBCCJC,MARf,YAAoC,IAAZC,EAAW,EAAXA,SACpB,OACI,oBAAInB,UAAWC,IAAOiB,aAAtB,SACLC,K,iBCHGC,E,4MAEFC,gBAAkB,SAACjC,GACf,IAAMkC,EAAOlC,EAAEmC,OAAOC,QAAQC,IACxBC,EAAgBtC,EAAEmC,OAAOC,QAAQG,IACvC,EAAK7B,MAAM8B,QAAQ,CAAEN,OAAMI,mB,4CAG/B,WAAU,IAAD,OAGL,OAFmBvB,KAAKL,MAAhB+B,OAGOC,KAAI,gBAAEC,EAAF,EAAEA,GAAIC,EAAN,EAAMA,aAAcV,EAApB,EAAoBA,KAAMI,EAA1B,EAA0BA,cAA1B,OACf,oBAAI1B,UAAWC,IAAOmB,iBAEVQ,QAAS,EAAKP,gBAF1B,SAKY,qBAAKrB,UAAWC,IAAOgC,MACnBC,IAAKF,EACL,WAAUV,EACV,WAAUI,EACVD,IAAKH,KARJS,U,GAdEnB,aAoChBQ,I,iBCrCTe,E,4JAEF,WACI,IAAQP,EAAYzB,KAAKL,MAAjB8B,QACR,OACI,wBAAQxB,KAAK,SAASJ,UAAWC,IAAOI,OAAQuB,QAASA,EAAzD,2B,GALShB,aAWNuB,I,iBCVTC,EAAYC,SAASC,cAAc,eAGnCC,E,4MAYFC,cAAgB,SAAApD,GACG,WAAXA,EAAEqD,MACF,EAAK3C,MAAM4C,W,EAKnBC,mBAAqB,SAAAvD,GACbA,EAAEE,gBAAkBF,EAAEmC,QACtB,EAAKzB,MAAM4C,W,uDApBnB,WACIE,OAAOC,iBAAiB,UAAW1C,KAAKqC,iB,kCAI5C,WAEII,OAAOE,oBAAoB,UAAW3C,KAAKqC,iB,oBAkB/C,WACI,MAA+BrC,KAAKL,MAA5B4B,EAAR,EAAQA,cAAeD,EAAvB,EAAuBA,IAEvB,OAAOsB,uBACH,qBAAK/C,UAAWC,IAAO+C,QAASpB,QAASzB,KAAKwC,mBAA9C,SACI,qBAAK3C,UAAWC,IAAOsC,MAAvB,SACI,qBAAKL,IAAKR,EAAeD,IAAKA,QAGtCW,O,GAnCQxB,aAwCL2B,IC7CR,SAASU,EAAIC,EAAcC,GAE9B,OAAOC,MAAM,8BAAD,OAA+BF,EAA/B,iBAAoDC,EAApD,gBADC,qCACD,yDACCE,MAAK,SAAAC,GACF,OAAIA,EAASC,GACFD,EAASE,OAEbC,QAAQC,OAAO,IAAIC,MAAJ,wCAA2CT,EAA3C,U,ICApCU,E,4MACF3E,MAAQ,CACJC,YAAa,KACd2C,OAAQ,GACPhC,MAAO,KACPgE,OAAQ,OACRC,WAAW,EACXC,WAAY,GACZtC,IAAK,GACL0B,KAAM,G,EAqBVa,WAAa,WACT,IAAMd,EAAe,EAAKpD,MAAMZ,YAChC,EAAyB,EAAKD,MAAtBkE,EAAR,EAAQA,KAAMtB,EAAd,EAAcA,OACd,EAAKxC,SAAS,CAAEwE,OAAQ,YACxBZ,EAAIC,EAAcC,GACbE,MAAK,SAAAY,GAAe,OAAI,EAAK5E,SAAS,CAAEwC,OAAO,GAAD,mBAAMA,GAAN,YAAiBoC,EAAgBC,OAAOf,KAAMA,EAAO,EAAGU,OAAQ,gBAC9GM,OAAM,SAAAtE,GAAK,OAAI,EAAKR,SAAS,CAAEQ,QAAOgE,OAAQ,iB,EAIvDO,YAAc,YAA4B,IAChCC,EAD+B,EAAzB/C,KAENgD,EAF+B,EAAnB5C,cAGlB,EAAKrC,SAAS,CAAEoC,IAAK4C,EAAMN,WAAYO,IACvC,EAAKjF,SAAU,CAAEyE,WAAW,K,EAGhCS,aAAe,WACX,EAAKlF,SAAU,CAAEyE,WAAW,K,wDApChC,SAAmBU,GAAY,IAAD,OACpBC,EAAYD,EAAUtF,YACtBgE,EAAe/C,KAAKL,MAAMZ,YACzBiE,EAAQhD,KAAKlB,MAAbkE,KAEHsB,IAAcvB,IACd/C,KAAKd,SAAS,CAAEwE,OAAQ,YACxBZ,EAAIC,EAAcC,GACbE,MAAK,SAAAY,GAAe,OAAoC,IAAhCA,EAAgBC,KAAKQ,OAAe,EAAKrF,SAAS,CAAEwC,OAAQoC,EAAgBC,KAAMf,KAAMA,EAAO,EAAGU,OAAQ,aAAeJ,QAAQC,OAAO9D,IAAMC,MAAN,4BAAiCqD,EAAjC,kCAChKiB,OAAM,SAAAtE,GAAK,OAAI,EAAKR,SAAS,CAAEQ,QAAOgE,OAAQ,iBAGvDjB,OAAO+B,SAAS,CACZC,IAAKvC,SAASwC,gBAAgBC,aAC9BC,SAAU,a,oBAyBlB,WAEI,MAA+D5E,KAAKlB,MAA5D4C,EAAR,EAAQA,OAAQhC,EAAhB,EAAgBA,MAAOgE,EAAvB,EAAuBA,OAAQC,EAA/B,EAA+BA,UAAYC,EAA3C,EAA2CA,WAAYtC,EAAvD,EAAuDA,IAGvD,MAAe,SAAXoC,EACO,cAAC,EAAD,IAGI,YAAXA,EACO,cAAC,EAAD,IAGI,aAAXA,EACO,6BAAKhE,EAAMmF,UAGP,aAAXnB,EACO,qCACH,cAAC,EAAD,UACI,cAAC,EAAD,CAAkBhC,OAAQA,EAAQD,QAASzB,KAAKiE,gBAEjC,IAAlBvC,EAAO6C,QAAgB,cAAC,EAAD,CAAQ9C,QAASzB,KAAK6D,cAC/B,IAAdF,GAAsB,cAAC,EAAD,CACvBpC,cAAeqC,EACftC,IAAKA,EACLiB,QAASvC,KAAKoE,uBATtB,M,GApEe3D,aAmFRgD,ICpFTqB,E,4MACJhG,MAAQ,CACNC,YAAa,M,EAGfgG,kBAAoB,SAAAhG,GAClB,EAAKG,SAAS,CAAEH,iB,4CAGlB,WAEE,OACE,sBAAKc,UAAU,MAAf,UACE,cAAC,EAAD,CAAWD,SAAUI,KAAK+E,oBAC1B,cAAC,IAAD,CAAgBC,UAAW,MAC3B,cAAC,EAAD,CAAUjG,YAAaiB,KAAKlB,MAAMC,qB,GAfxB0B,aAqBHqE,ICxBfG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFjD,SAASkD,eAAe,U,kBCR1BzG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,OAAS,0BAA0B,MAAQ,yBAAyB,MAAQ,4B","file":"static/js/main.78a8a4bc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2ySAL\",\"image\":\"ImageGalleryItem_image__1Bs3p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__Ivkg9\",\"Modal\":\"Modal_Modal__124Ok\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__15GQk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Tgml\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__12BsN\"};","import { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Searchbar extends Component{\r\n    state = {\r\n        searchImage: ''\r\n    };\r\n\r\n    handleSearchChange = e => {\r\n        this.setState({ searchImage: e.currentTarget.value.toLowerCase() });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (this.state.searchImage.trim() === '') {\r\n            return toast.error('Please enter name of requested image');\r\n        };\r\n\r\n        const { searchImage } = this.state;\r\n        this.props.onSubmit(searchImage);\r\n        this.setState({ searchImage: '' });\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={styles.button}>\r\n                        <span className={styles.label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles.input}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={this.state.searchImage}\r\n                        onChange={this.handleSearchChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    };\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from './Loader.module.css';\r\n\r\nfunction LoadBox () {\r\n    return <div className={styles.loader}>\r\n        <Loader\r\n            type=\"Bars\"\r\n            color=\"#3f51b5\"\r\n            height={100}    \r\n            width={100}\r\n        />\r\n    </div>\r\n}\r\n\r\nexport default LoadBox;\r\n","import React from \"react\";\r\nimport styles from './ImageGallery.module.css';\r\n// import PropTypes from 'prop-types';\r\n\r\nfunction ImageGallery ({children}) {\r\n    return (\r\n        <ul className={styles.ImageGallery}>\r\n  {children}\r\n</ul>\r\n    )\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\n// ImageGallery.propTypes = {\r\n//     children: PropTypes.arrayOf(PropTypes.object).isRequired\r\n// };\r\n","import React, {Component} from \"react\";\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\n\r\nclass ImageGalleryItem extends Component {\r\n\r\n    setSelectedImgs = (e) => {\r\n        const tags = e.target.dataset.alt;\r\n        const largeImageURL = e.target.dataset.url;\r\n        this.props.onClick({ tags, largeImageURL });\r\n    };\r\n\r\n    render() {\r\n        const { images } = this.props;\r\n        \r\n        return (\r\n                images.map(({id, webformatURL, tags, largeImageURL }) => (\r\n            <li className={styles.ImageGalleryItem}\r\n                        key={id}\r\n                        onClick={this.setSelectedImgs}\r\n                        >\r\n                       \r\n                        <img className={styles.image}\r\n                            src={webformatURL}\r\n                            data-alt={tags}\r\n                            data-url={largeImageURL}\r\n                            alt={tags}        \r\n                            \r\n                        />\r\n            </li>)\r\n        )\r\n        \r\n        )\r\n        \r\n    }\r\n    \r\n    \r\n};\r\n\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from \"react\";\r\nimport styles from './Button.module.css';\r\n\r\nclass Button extends Component {\r\n\r\n    render() {\r\n        const { onClick } = this.props;\r\n        return (\r\n            <button type='button' className={styles.button} onClick={onClick}>Load more</button>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default Button;\r\n\r\n","import React, {Component} from \"react\";\r\nimport styles from './Modal.module.css';\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n        \r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n        \r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose();\r\n           \r\n        }\r\n    }\r\n    \r\n    handleOverlayClick = e => {   \r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose()    \r\n        }    \r\n    }\r\n\r\n\r\n    render() {\r\n        const { largeImageURL, alt } = this.props;\r\n\r\n        return createPortal(\r\n            <div className={styles.Overlay} onClick={this.handleOverlayClick}>\r\n                <div className={styles.Modal}>\r\n                    <img src={largeImageURL} alt={alt} />\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    };\r\n};\r\n\r\nexport default Modal;","\r\n\r\nexport function API(currentValue, page) {\r\n     const KEY = '23249426-cbed7229a7b2fc460ade288c0';\r\n    return fetch(`https://pixabay.com/api/?q=${currentValue}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        return response.json();\r\n                    }\r\n                    return Promise.reject(new Error(`There is no images with name \"${currentValue}\"`));\r\n                }) \r\n}","import { toast } from \"react-toastify\";\r\nimport React, { Component } from \"react\";\r\nimport LoadBox from '../Loader/Loader';\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport Modal from \"../Modal/Modal\";\r\nimport { API } from \"../../services/API\";\r\n\r\nclass LogicApp extends Component{\r\n    state = {\r\n        searchImage: null,\r\n       images: [],\r\n        error: null,\r\n        status: 'idle',\r\n        showModal: false,\r\n        largeImage: '',\r\n        alt: '',\r\n        page: 1,\r\n    };\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const prevValue = prevProps.searchImage;\r\n        const currentValue = this.props.searchImage;\r\n        const {page} = this.state;\r\n\r\n        if (prevValue !== currentValue) {\r\n            this.setState({ status: 'pending' });\r\n            API(currentValue, page)\r\n                .then(requestedImages => requestedImages.hits.length !== 0 ? this.setState({ images: requestedImages.hits, page: page + 1, status: 'resolved' }): Promise.reject(toast.error(`Images with name \"${currentValue}\" not found. Try again!!!`)))\r\n                .catch(error => this.setState({ error, status: 'rejected' }));\r\n        };\r\n\r\n        window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n        });\r\n    };\r\n\r\n    onLoadMore = () => {\r\n        const currentValue = this.props.searchImage;\r\n        const { page, images } = this.state;\r\n        this.setState({ status: 'pending'});\r\n        API(currentValue, page)\r\n            .then(requestedImages => this.setState({ images: [...images, ...requestedImages.hits], page: page + 1, status: 'resolved' }))\r\n            .catch(error => this.setState({ error, status: 'rejected' }));\r\n\r\n    }\r\n\r\n    onOpenModal = ({tags, largeImageURL}) => {\r\n        const Alt = tags;\r\n        const Url = largeImageURL;\r\n        this.setState({ alt: Alt,  largeImage: Url });\r\n        this.setState(({ showModal: true }));\r\n    };\r\n\r\n    onCloseModal = () => {\r\n        this.setState(({ showModal: false }));\r\n    };\r\n\r\n    render() {\r\n\r\n        const { images, error, status, showModal,  largeImage, alt } = this.state;\r\n       \r\n\r\n        if (status === 'idle') {\r\n            return <ImageGallery/>\r\n        };\r\n        \r\n        if (status === 'pending') {\r\n            return <LoadBox/>\r\n        };\r\n\r\n        if (status === 'rejected') {\r\n            return <h1>{error.message}</h1>\r\n        };\r\n\r\n        if (status === 'resolved') {\r\n            return <>\r\n                <ImageGallery>\r\n                    <ImageGalleryItem images={images} onClick={this.onOpenModal}/>\r\n                </ImageGallery>\r\n                {images.length !== 0 && <Button onClick={this.onLoadMore}/>}\r\n                {showModal === true && <Modal\r\n                largeImageURL={largeImage}\r\n                alt={alt}\r\n                onClose={this.onCloseModal} />}\r\n                </>\r\n        };\r\n    };\r\n};\r\n\r\nexport default LogicApp;\r\n","import './App.css';\r\nimport React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Searchbar from './components/Searchbar';\r\nimport LogicApp from './components/LogicApp';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchImage: null\r\n  };\r\n\r\n  formSubmitHandler = searchImage => {\r\n    this.setState({ searchImage })\r\n  };\r\n  \r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.formSubmitHandler} />\r\n        <ToastContainer autoClose={3000}/>\r\n        <LogicApp searchImage={this.state.searchImage} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1NL_v\",\"SearchForm\":\"Searchbar_SearchForm__1FoS2\",\"button\":\"Searchbar_button__1fdg0\",\"label\":\"Searchbar_label__qIyRc\",\"input\":\"Searchbar_input__19CCt\"};"],"sourceRoot":""}